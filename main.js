(()=>{"use strict";const t={30:"Diners",31:"JCB",35:"JCB",36:"Diners",34:"AmericanExpress",37:"AmericanExpress",51:"MasterCard",52:"MasterCard",53:"MasterCard",54:"MasterCard",55:"MasterCard",60:"Discover",62:"Discover",64:"Discover",65:"Discover"};(new class{constructor(){this.input=document.getElementById("input"),this.button=document.getElementById("button"),this.checkInput=this.checkInput.bind(this),this.checkButton=this.checkButton.bind(this)}init(){this.checkInput(),this.checkButton()}checkInput(){this.input.addEventListener("input",(()=>{this.informer();const e=function(e){const s=Number(e.slice(0,1));if(4===s)return"Visa";if(2===s)return"Mir";const i=Number(e.slice(0,2));return void 0!==t[i]&&t[i]}(this.input.value);e?this.highlightPaymentSystem(e):this.removeClassDisableFromIcons()}))}checkButton(){this.button.addEventListener("click",(()=>{!0===function(t){if(t.length<13||t.length>19)return!1;const e=t.split("");for(let t=0;t<e.length;t+=1){const s=Number(e[t]);e[t]=0===t||t%2==0?2*s>9?2*s-9:2*s:s}let s=0;for(const t of e)s+=t;return s%10==0}(this.input.value)?this.informer("Такая карта существует!","green"):this.informer("Такой карты не существует!","red")}))}informer(t,e){const s=document.querySelector(".validator__informer");if(s){if(!t)return this.informer.classList.remove("_green","_red"),void(this.informer.textContent="");s.textContent=t,s.classList.add(`_${e}`)}}removeClassDisableFromIcons(){this.icons=document.querySelectorAll(".validator__card");for(const t of this.icons)t.classList.remove("_disable");return this.icons}highlightPaymentSystem(t){const e=this.removeClassDisableFromIcons(),s=document.getElementById(t);if(s)for(const t of e)t!==s&&t.classList.add("_disable")}}).init()})();